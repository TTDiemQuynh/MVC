@model IEnumerable<QLBH_NHOM.Models.DONHANG>

@{
    ViewBag.Title = "Index"; int i = 0; string css = "";
    Layout = "~/Areas/Admin/Views/Shared/ViewAdminChung.cshtml";
    <link href="~/Content/css/table.css" rel="stylesheet" />
}

<div id="layoutSidenav_content container-fluid">
    <main>
        <div class="container-fluid px-4">

            <ol class="breadcrumb mb-4">
                <li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li>
                <li class="breadcrumb-item active">Quản lý đơn hàng</li>
                <li class="breadcrumb-item active">Đơn hàng</li>
            </ol>
            <h3 class="text-center text-uppercase">Danh sách đơn hàng</h3>

            <div class="card mb-4">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="datatablesSimple" width="100%" cellspacing="0">
                            <thead style="background-color: #f0f2f5">
                                <tr>
                                    <th>STT</th>
                                    <th>Mã đơn</th>
                                    <th>Ngày đặt</th>
                                    <th>Thanh toán</th>
                                    <th>Địa chỉ giao</th>
                                    <th>Nhân viên duyệt</th>
                                    <th>Nhân viên giao</th>
                                    <th>Tình trạng</th>
                                    <th>Chức năng</th>
</thead>

                            <tbody>
                                @foreach (var item in Model)
                                {
                                <tr>
                                    <td>
                                        @{i++;} @i
                                    </td>
                                    <td> @Html.DisplayFor(modelItem => item.MADON)</td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.NGAYDAT)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TIEN)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.DIACHIGIAO)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.NHANVIEN.HOTENNV)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.NHANVIEN1.HOTENNV)
                                    </td>
                                    <td>
                                        @if (item.TINHTRANG == "1")
                                        {
                                            css = "text-warning";
                                        }
                                        else if (item.TINHTRANG == "2")
                                        {
                                            css = "text-primary";
                                        }
                                        else if (item.TINHTRANG == "3")
                                        {
                                            css = "text-info";
                                        }
                                        else if (item.TINHTRANG == "4")
                                        {
                                            css = "text-success";
                                        }
                                        else { css = "text-danger"; }
                                        @if (item.TINHTRANG == null)
                                        {
                                            <b class="text-uppercase text-warning">Chờ xác nhận</b>
                                        }
                                        else
                                        {
                                            <b class="@css text-uppercase"> @Html.DisplayFor(modelItem => item.TINHTRANGDON.MOTA)</b>
                                        }
                                    </td>


                                    <td>

                                        <a href="@Url.Action("Details",
                        new { id = item.MADON})" class="edit-btn"><abbr title="Chi tiết"><img src="~/Content/img/details.png" width="20" height="20" /></abbr></a>
                                        <a href="@Url.Action("Delete",
                        new { id = item.MADON})" class="edit-btn"><abbr title="Xóa"><img src="~/Content/img/delete.png" width="20" height="20" /></abbr></a>
                                        @* @Html.ActionLink("Edit", "Edit", new { id = item.MADON }) |
            @Html.ActionLink("Details", "Details", new { id = item.MADON }) |*@
                                        @*@Html.ActionLink("Delete", "Delete", new { id = item.MADON })*@
                                    </td>
                                </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="~/Content/js2/scripts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="~/Content/js2/datatables-simple-demo.js"></script>


